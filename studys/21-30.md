# 21 빌트인 객체

자바스크립트의 객체는 크게 3가지로 분류할 수 있습니다.

- 네이티브 객체(표준 빌드인 객체)
  - ECMAScript명세에 정의된 객체를 말하며 애플리케이션 전역의 공통 기능을 제공
- 호스트 객체
  - 실행 환경에서 추가적으로 제공하는 객체
- 사용자가 정의한 객체

<br/>

## 네이티브 객체(표준 빌드인 객체)

Object, String, Number, Boolean, Date, Promise ...

string, number, boolean등의 원시타입이 이미 있는데, 객체를 생성하는 빌트인 생성자가 왜 존재할까???

<br/>

## 래퍼 객체

자바스크립트는 원시값(문자열, 숫자 등)을 마치 객체처럼 다룰 수 있게 해줍니다

```js
const str = "Hello world!";
const res = str.toUpperCase();
// const res = new String(str).toUpperCase();
console.log(res); // 'HELLO WORLD!'

const num = 1.5;
console.log(num.toFixed()); // 2
```

원시 값을 객체처럼 사용하면 자바스크립트 엔진은 암묵적으로 연관된 객체로 변환시킵니다.

이처럼 문자열, 숫자, 불리언 값에 대해 객체처럼 접근하면 생성되는 임시객체를 **래퍼 객체**라고 합니다.

<br>
<br>

## 호스트 객체

호스트 객체는 브라우저 환경에서 제공하는 window, HTMLElement의 DOM 노드 객체와 같이 호스트 환경에 정의된 객체를 말합니다.

브라우저에서 동작하는 환경의 호스트 객체는 전역 객체인 window, BOM(Browser Object Model), DOM(Document Object Model)등을 제공합니다.

<br>
<br>

# 22 전역객체

전역 객체는 모든 객체의 유일한 최상위 객체를 의미하며 일반적으로 Browser-side에서는 window, Server-side(Node.js)에서는 global 객체를 의미합니다.

전역 객체를 사용하면 어디서나 사용 가능한 변수나 함수를 만들 수 있고 이는 전부 언어 자체나, 호스트환경에 기본 내장되어있는 경우가 많습니다.

전역 객체의 자식 객체를 사용할 때 전역 객체의 기술은 생략할 수 있습니다.

```js
window.document.querySelector("div");
window.alert("경고!");

// 생략가능
document.querySelector("div");
alert("경고!");
```

### 빌트인 전역 프로퍼티

- Infinity - 무한대를 나타내는 숫자값

- NaN - 숫자가 아님을 나타내는 숫자값

- undefined - 원시타입인 undefined 값

### 빌트인 전역 함수

`eval, isFinite, isNaN, parseFloat , parseInt, encodeURI, decodeURI, encodeURIComponent, decodeURIComponent`

<br/>
<br/>

# 23 Number

원시타입인 number를 다룰 때 유용한 프로퍼티와 메소드를 제공하는 래퍼 객체입니다.

## Number 프로퍼티

- Number.EPSILON - 자바스크립트에서 표현할 수 있는 가장 작은 수
- Number.MAX_VALUE - 자바스크립트에서 사용 가능한 가장 큰 숫자
- Number.MIN_VALUE - 자바스크립트에서 사용 가능한 가장 작은 숫자
- Number.POSITIVE_INFINITY - `Infinity`
- Number.NEGATIVE_INFINITY - `-Infinity`
- Number.NaN - 숫자가 아님을 나타내는 숫자값

## Number 메소드

- Number.isFinite(testValue: number): boolean
  - 인자가 정상적인 유한수인지 검사
- Number.isInteger(testValue: number): boolean
  - 인자가 정수인지 검사
- Number.isNaN(testValue: number): boolean
  - 인자가 NaN인지 검사
- Number.prototype.toString(base?: number): string
  - 숫자를 base진법으로 표현한 후 문자열로 변환하여 반환한다.

<br>
<br>

# 24 Math

Math 객체는 수학 상수와 함수를 위한 프로퍼티와 메소드를 제공하는 빌트인 객체이다. Math 객체는 생성자 함수가 아니다. 따라서 Math 객체는 정적(static) 프로퍼티와 메소드만을 제공한다.

## Math 프로퍼티

- Math.PI - 파이 값
- Math.SQRT2 - 2의 제곱근

## Math 메소드

- Math.abs(x: number): number
  - 인수의 절댓값을 반환
- Math.floor(x: number): number
  - 인수의 소수점 이하를 내림한 정수 반환
- Math.random(): number
  임의의 부동 소수점을 반환 (0부터 1미만)
- Math.max(…values: number[]): number
  - 인수 중 가장 큰 수를 반환
- Math.min(…values: number[]): number
  - 인수 중 가장 작은 수를 반환

```js
const nums = [1, 2, 3];
const max = Math.max(...nums);
const min = Math.min(...nums);
console.log(max, min); // 3 1
```

<br>
<br>

# 25 Date

Date객체는 날짜를 저장할 수 있고 관련된 메서드도 제공해주는 내장객체입니다.

## Date객체를 생성하는 방법

<br>

`new Date()`  
인수 없이 호출하면 현재 날짜와 시간이 저장된 Date 객체가 반환됩니다.

```js
let now = new Date();
alert(now); // 2021-08-16T04:21:52.879Z
```

<br>

`new Date(milliseconds)`
UTC 기준(UTC+0) 1970년 1월 1일 0시 0분 0초에서 밀리초(1/1000 초) 후의 시점이 저장된 Date 객체가 반환됩니다.

```js
// 1970년 1월 1일 0시 0분 0초(UTC+0)를 나타내는 객체
let Jan01_1970 = new Date(0);
console.log(Jan01_1970); // Thu Jan 01 1970 09:00:00 GMT+0900 (KST)

// 1970년 1월 1일의 24시간 후는 1970년 1월 2일(UTC+0)임
let Jan02_1970 = new Date(24 * 3600 * 1000);
console.log(Jan02_1970); // Fri Jan 02 1970 09:00:00 GMT+0900 (KST)
```

<br>

`new Date(datestring)`  
인수가 하나인데, 문자열이라면 해당 문자열은 자동으로 구문 분석(parsed)됩니다. 즉, Date.parse() 메서드가 인식할 수 있는 형태로 나타낸 날짜 문자열입니다.

```js
let date = new Date("2021-08-18");

console.log(date); // Wed Aug 18 2021 09:00:00 GMT+0900 (KST)

// 코드가 실행되는 시간대(timezone)에 따라 출력 문자열이 바뀝니다.
```

하지만 MDN에 따르면

> **참고: Date 생성자(및 동일한 동작의 Date.parse())를 사용한 날짜 파싱은 동작이 일관적이지 못하고 브라우저끼리 차이가 존재하므로 사용하지 않는 것이 좋습니다.**

<br>

`new Date(year, month, date, hours, minutes, seconds, ms)`  
주어진 인수를 조합해 만들 수 있는 날짜가 저장된 객체가 반환됩니다(지역 시간대 기준). 첫 번째와 두 번째 인수만 필수값입니다.

```js
let date = new Date(2021, 0);
console.log(date); // Fri Jan 01 2021 00:00:00 GMT+0900 (KST)
```

<br>

`Date()`
함수로 호출할 경우 `new Date().toString()`과 동일하게 현재 날짜와 시간을 나타내는 문자열을 반환합니다.

```js
let date = Date();
console.log(date); // Mon Aug 16 2021 18:53:51 GMT+0900 (대한민국 표준시)
```

## Date 메소드

- `Date.now`
  - 1970년 1월 1일 00:00:00(UTC)을 기점으로 현재 시간까지 경과한 밀리초를 숫자로 반환한다.
- `Date.parse`
  - 1970년 1월 1일 00:00:00(UTC)을 기점으로 인수로 전달된 지정 시간까지의 밀리초를 숫자로 반환한다.
- `Date.UTC`
  - Date.UTC 메소드는 new Date(year, month[, day, hour, minute, second, millisecond])와 같은 형식의 인수를 사용해야 한다.
- `Date.prototype.getFullYear`
  - 년도를 나타내는 4자리 숫자를 반환
- `Date.prototype.getMonth`
  - 월을 나타내는 0~11의 정수를 반환 1월은 0, 12월은 11
- `Date.prototype.getDate`
  - 날짜(1 ~ 31)를 나타내는 정수 반환
- `Date.prototype.getDay`
  - 요일(0 ~ 6)을 나타내는 정수를 반환 일요일은 0, 토요일은 6
- `Date.prototype.getHours`
  - 시간(0 ~ 23)을 나타내는 정수를 반환
- `Date.prototype.getMinutes`
  - 분(0 ~ 59)를 나타내는 정수를 반환
- `Date.prototype.getSeconds`
  - 초(0 ~ 59)를 나타내는 정수를 반환
- `Date.prototype.toLocaleDateString`
  - Date객체의 날짜를 지역의 언어에 맞는 문자열 표현으로 반환

```js
const today = new Date();
const dateString = today.toLocaleDateString("ko-KR", {
  year: "numeric",
  month: "long",
  day: "numeric",
});
const dayName = today.toLocaleDateString("ko-KR", { weekday: "long" });

console.log(dateString, dayName); // 2021년 8월 16일 월요일

const ENdateString = today.toLocaleDateString("en-US", {
  year: "numeric",
  month: "long",
  day: "numeric",
});
const ENdayName = today.toLocaleDateString("en-US", { weekday: "long" });
console.log(ENdateString, ENdayName); // August 16, 2021 Monday
```

<br>
<br>

# 26 정규표현식

정규표현식은 문자열에서 특정 내용을 찾거나 대체 또는 발췌하는데 사용되고, 패턴(pattern) 과 선택적으로 사용할 수 있는 플래그(flag) 로 구성됩니다.

정규식 객체를 만들 땐 두 가지 문법이 사용됩니다.

```js
// 긴 문법
const regexp = new RegExp("pattern", "flags");

// 짧은 문법
const regexp = /pattern/gim;
```

두 문법의 중요한 차이점은 /.../를 사용하면 문자열 템플릿 리터럴에서 ${...}를 사용했던 것처럼 중간에 표현식을 넣을 수 없다는 점입니다. 슬래시를 사용한 방법은 완전히 정적입니다.

```js
let tag = prompt("어떤 태그를 찾고 싶나요?", "h2");

let regexp = new RegExp(`<${tag}>`); // 프롬프트에서 "h2"라고 대답한 경우, /<h2>/와 동일한 역할을 합니다.
```

<br>

## 플래그

- `i`
  - 대,소문자 구분 없이 검색
- `g`
  - 패턴과 일치하는 모든 구문 탐색, 전역 검색
- `m`
  - 다중 행 모드 활성화
- `s`
  - .이 개행 문자(\n)도 포함하도록 활성화
- `u`
  - 유니코드 패턴을 유니코드의 코드 포인트의 나열로 취급
- `y`
  - "sticky"검색을 수행, 문자열의 현재 위치부터 검색을 수행
